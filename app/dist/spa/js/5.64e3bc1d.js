(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"49c4":function(e,o,t){"use strict";t("c266")},"91e5":function(e,o,t){"use strict";var n={props:{obj:{default:function(){return{}}},label:{type:String,default:""}},data:()=>({}),filters:{pretty:function(e){let o=e;try{o=JSON.parse(e)}catch(e){}return JSON.stringify(o,null,4)}}},c=(t("49c4"),t("2877")),l=Object(c.a)(n,(function(){var e=this.$createElement,o=this._self._c||e;return o("section",{staticClass:"debug"},[o("label",[this._v(this._s(this.label))]),o("pre",[this._v(this._s(this._f("pretty")(this.obj)))])])}),[],!1,null,null,null);o.a=l.exports},a4ed:function(e,o,t){"use strict";t.r(o);var n=t("91e5"),c=t("9e62"),l={data:()=>({}),components:{DebugSection:n.a},mixins:[Object(c.b)({service:"global-config"})],computed:{globalConfigParams:()=>({query:{}}),serialDevice:{get(){let e=null;const o=this.$store.state["global-config"].keyedById.serialDevice;return o&&(e=o.value),e},set(e){console.group("serialDevice set"),console.log("val",e);const o=new(0,this.$FeathersVuex.api.GlobalConfig)({id:"serialDevice",name:"serialDevice",value:e});o.save().then(()=>{console.log("gcSave save: done.")}).catch(e=>{console.error("gcSave save: "+e.message,e),"NotFound"===e.name?o.create():console.error("gcSave save: "+e.message,e)}),console.groupEnd()}}},methods:{globalConfigLoadFromServer:function(){console.log("TODO: implement load from server"),this.$axios.get("/config/global-config.json").then(e=>{console.log("response.data",e.data),this.$q.notify({color:"info",message:"Loaded config from server. Processing now.",icon:"info"}),this.$q.notify({color:"positive",message:"done.",icon:"info"})}).catch(()=>{this.$q.notify({color:"negative",message:"Loading failed",icon:"report_problem"})})},testDev:function(e){console.group("testDev"),console.log("this",this),console.log("val",e),console.groupEnd()},gcSetter:function(e,o){console.group("gcSetter");const t=this.$store.state["global-config"].keyedById[e];if(t){const n={id:t.id,name:e,value:o};this.$store.commit("global-config/updateItem",n)}console.groupEnd()},gcGetter:function(e){console.group("gcGetter");const o=this.$store.state["global-config"].keyedById[e];console.log("gcItem",o),o&&o.value&&(console.log("gcItem.value",o.value),console.log("gcItem.name",o.name),console.log("gcItem._id",o._id)),console.groupEnd()},gcFindAll:function(){console.group("gcFindAll");this.$FeathersVuex.api.GlobalConfig.find({query:{},paginate:!1}).then(e=>{console.group("gcFindAll.then"),console.log("resultFind",e);const o=e.data;if(console.log("gcList",o),o){console.log("gcList[0]",o[0]);const e=o[0];e&&(console.log("gcItem.value",e.value),console.log("gcItem._id",e._id))}console.groupEnd()}).catch(e=>{console.error(e.message,e)}),console.groupEnd()},gcFind:function(e){console.group("gcFind");const o={query:{name:e},paginate:!1};this.$FeathersVuex.api.GlobalConfig.find(o).then(e=>{console.group("gcFind.then"),console.log("result",e);const o=e.data;if(console.log("gcList",o),o){console.log("gcList[0]",o[0]);const e=o[0];e&&(console.log("gcItem.value",e.value),console.log("gcItem._id",e._id))}console.groupEnd()}).catch(e=>{console.error(e.message,e)}),console.groupEnd()},gcGet:function(e){console.group("gcGet");this.$FeathersVuex.api.GlobalConfig.get(e).then(e=>{console.log("gcItem",e),e.value&&(console.log("gcItem.value",e.value),console.log("gcItem.name",e.name),console.log("gcItem._id",e._id))}).catch(e=>{"NotFound"===e.name?console.log("gcGet - "+e.name+": ",e.message):console.error("gcGet: "+e.message,e)}),console.groupEnd()},gcUseFind:function(e){console.group("gcUseFind");const o=this.$FeathersVuex.api.GlobalConfig,t={query:{name:e}},n=Object(c.c)({model:o,params:t});if(console.log("gcList",n),n.items){console.log("gcList.items.value",n.items.value),console.log("gcList.items.value[0]",n.items.value[0]);const e=n.items.value[0];e&&(console.log("gcItem.value",e.value),console.log("gcItem._id",e._id))}console.groupEnd()},gcUseGet:function(e){console.group("gcUseGet");const o=this.$FeathersVuex.api.GlobalConfig;console.log("useGet");const t=Object(c.d)({model:o,id:e});console.log("result",t);const n=t.item.value;console.log("gcItem",n),n&&(console.log("gcItem.value",n.value),console.log("gcItem.name",n.name),console.log("gcItem.id",n.id)),console.groupEnd()},gcSave:function(e,o){console.group("gcSave");const t=this.$FeathersVuex.api.GlobalConfig;console.log("this",this),console.log("configName",e),console.log("val",o);const{item:n}=Object(c.d)({model:t,id:e});let l=n.value;console.log("gcItem",l),console.log("patch or create"),l||(console.log("new ModelClass"),l=new t({id:e,_id:e,name:e,value:o})),l.patch({data:{value:o}}).then(()=>{console.log("gcSave patch: done.")}).catch(e=>{"NotFound"===e.name?(console.log("gcSave - "+e.name+": ",e.message),l.create().then(()=>{console.log("gcSave create: done.")}).catch(e=>{console.error("gcSave: create - "+e.message,e)})):console.error("gcSave: patch - "+e.message,e)}),console.log("gcItem",l),console.log("gcItem.value",l.value),console.groupEnd()}},filters:{pretty:function(e){let o=e;try{o=JSON.parse(e)}catch(e){}return JSON.stringify(o,null,4)}},name:"PageSettings"},i=t("2877"),s=t("9989"),r=t("9c40"),a=t("27f9"),g=t("0016"),p=t("714f"),u=t("eebe"),v=t.n(u),d=Object(i.a)(l,(function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("q-page",{staticClass:"fit column no-wrap justify-center items-center content-center"},[t("h1",[e._v("Global Settings")]),t("section",[t("q-btn",{attrs:{round:"",color:e.$q.dark.isActive?"blue":"black",icon:"mdi-lightbulb-on-outline"},on:{click:function(o){return e.$q.dark.toggle()}}})],1),t("debugSection",{attrs:{label:"globalConfig",obj:e.globalConfig}}),t("debugSection",{attrs:{label:"serialDevice",obj:e.serialDevice}}),t("section",[t("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"load from server",icon:"sync"},on:{click:function(o){return e.globalConfigLoadFromServer()}}}),t("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"testDev pos"},on:{click:function(o){return e.testDev("pos")}}}),t("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"testDev rot"},on:{click:function(o){return e.testDev("rot")}}}),t("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"gcFindAll"},on:{click:function(o){return e.gcFindAll()}}})],1),t("section",[t("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"gcFind pos"},on:{click:function(o){return e.gcFind("pos")}}}),t("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"gcFind rot"},on:{click:function(o){return e.gcFind("rot")}}}),t("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"gcGet pos"},on:{click:function(o){return e.gcGet("pos")}}}),t("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"gcGet rot"},on:{click:function(o){return e.gcGet("rot")}}})],1),t("section",[t("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"gcGetter pos"},on:{click:function(o){return e.gcGetter("pos")}}}),t("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"gcGetter rot"},on:{click:function(o){return e.gcGetter("rot")}}}),t("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"gcSetter pos 22"},on:{click:function(o){return e.gcSetter("pos",22)}}}),t("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"gcSetter pos 77"},on:{click:function(o){return e.gcSetter("pos",77)}}})],1),t("section",[t("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"gcUseFind pos"},on:{click:function(o){return e.gcUseFind("pos")}}}),t("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"gcUseFind rot"},on:{click:function(o){return e.gcUseFind("rot")}}}),t("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"gcUseGet pos"},on:{click:function(o){return e.gcUseGet("pos")}}}),t("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"gcUseGet rot"},on:{click:function(o){return e.gcUseGet("rot")}}})],1),t("section",[t("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"gcSave 'pos':'99'"},on:{click:function(o){return e.gcSave("pos","99")}}}),t("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"gcSave 'pos':'10'"},on:{click:function(o){return e.gcSave("pos","10")}}}),t("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"gcSave 'rot':'0째'"},on:{click:function(o){return e.gcSave("rot","0째")}}}),t("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"gcSave 'rot':'75째'"},on:{click:function(o){return e.gcSave("rot","75째")}}})],1),t("section",[t("q-input",{attrs:{filled:"",label:"serial device"},scopedSlots:e._u([{key:"append",fn:function(){return[t("q-icon",{staticClass:"cursor-pointer",style:{opacity:""!==e.serialDevice?"inherit":"0.1"},attrs:{name:"close"},on:{click:function(o){e.serialDevice="/dev/ttyUSB0"}}})]},proxy:!0}]),model:{value:e.serialDevice,callback:function(o){e.serialDevice=o},expression:"serialDevice"}})],1)],1)}),[],!1,null,null,null);o.default=d.exports;v()(d,"components",{QPage:s.a,QBtn:r.a,QInput:a.a,QIcon:g.a}),v()(d,"directives",{Ripple:p.a})},c266:function(e,o,t){}}]);
//# sourceMappingURL=5.64e3bc1d.js.map