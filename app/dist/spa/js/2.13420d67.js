(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"302e":function(e,t,o){var n={"./de":["215a",0],"./de.js":["215a",0],"./en-us":["1f91"],"./en-us.js":["1f91"]};function i(e){if(!o.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],i=t[0];return Promise.all(t.slice(1).map(o.e)).then((function(){return o(i)}))}i.keys=function(){return Object.keys(n)},i.id="302e",e.exports=i},"49c4":function(e,t,o){"use strict";o("c266")},"8b93":function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));o("fb6a"),o("ddb0");var n=o("2f62");const i=function(e,t){const o=Object(n.b)(e,t),i={};for(const[t,n]of Object.entries(o))i[t]={get:n},i[t].set=function(o){const n="set"+((i=t).charAt(0).toUpperCase()+i.slice(1));var i;this.$store.commit(e+"/"+n,o)};return i}},"91e5":function(e,t,o){"use strict";var n={props:{obj:{default:function(){return{}}},label:{type:String,default:""}},data:()=>({}),filters:{pretty:function(e){let t=e;try{t=JSON.parse(e)}catch(e){}return JSON.stringify(t,null,4)}}},i=(o("49c4"),o("2877")),r=Object(i.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"debug"},[t("label",[this._v(this._s(this.label))]),t("pre",[this._v(this._s(this._f("pretty")(this.obj)))])])}),[],!1,null,null,null);t.a=r.exports},b41f:function(e,t,o){"use strict";o.r(t);o("ddb0");var n=o("ded3"),i=o.n(n),r=o("9e62"),s=o("8b93"),a=(o("fb6a"),o("e6cf"),o("2b0e")),c=o("2e40");function l(e){return e.charAt(0).toLowerCase()+e.slice(1)}function u(e){let t=e.split("-");t=t.map(e=>{return(t=e).charAt(0).toUpperCase()+t.slice(1);var t});return t.join("")}var d=o("91e5");const p=o("a6d8").filter(e=>["de","en-us"].includes(e.isoName));var m={name:"langSelect",data(){return{lang:this.$q.lang.isoName,langI18n:this.$i18n.locale}},watch:{lang(e){o("302e")("./"+e).then(e=>{this.$q.lang.set(e.default)}),this.$i18n.locale=e}},created(){this.langOptions=p.map(e=>({label:e.nativeName,value:e.isoName}))}},f=o("2877"),v=o("ddd8"),g=o("eebe"),b=o.n(g),h=Object(f.a)(m,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("q-select",{staticClass:"q-mr-md",attrs:{rounded:"",outlined:"",label:"Quasar Language","emit-value":"",options:e.langOptions,"map-options":""},model:{value:e.lang,callback:function(t){e.lang=t},expression:"lang"}})}),[],!1,null,null,null),S=h.exports;b()(h,"components",{QSelect:v.a});const q={vendorId:-1,productId:-1,comName:"/dummyResponder/0",pnpId:-1,locationId:-1,serialNumber:"42",manufacturer:"s-light.eu",product:"dummyResponder",release:void 0,interface:void 0,usagePage:void 0,usage:void 0};var y={data:()=>({deviceSelected:{},deviceList:[q]}),components:{DebugSection:d.a},mixins:[Object(r.b)({service:"serial"})],computed:i()({serialParams:()=>({query:{}})},function(e,t){const o={},n={},i=u(e),s=c.e.api[i],d=l(i),p={};a.default.set(p,"gcList",{}),o[d]={get:function(){return p.gcList}};for(const e of t)n[e]={get:function(){return null},set:function(e){}};s.find({query:{},paginate:!1}).then(e=>{for(const t of e.data)p.gcList[t.id]=t}).catch(e=>{console.error(e.type,e.message)});for(const o of t){let t=Object(r.d)({model:s,id:o,_id:o}).item.value;if(!t){const n={id:o,_id:o,value:null};t=new s(n),t.create().catch(t=>{console.error("mapBindIDItems: create - ",t.type,t.message),console.log("â†’ manually commit mutation *addItem*"),s.store.commit(e+"/addItem",n)})}const i=t.clone();n[o].get=function(){return i.value},n[o].set=function(e){i.value=e,i.commit(),t.patch({data:{value:e}})}}return Object.assign({},o,n)}("serial",["list","port","baudRate","connected"])),methods:{updateSerialDeviceList:function(){console.group("serverExportToCSV");this.$q.notify({color:"info",message:"update serial device list. Processing now.",icon:"info"}),this.$FeathersVuex.api.Management.updateSerialDeviceList().then(e=>{console.log("updateSerialDeviceList: ",e),this.$q.notify({color:"positive",message:"serial done.",icon:"info"})}).catch(e=>{console.error("updateSerialDeviceList:",e),this.$q.notify({color:"negative",message:"serial update failed.",icon:"report_problem"})}),console.groupEnd()},connect:function(){console.log("deviceSelected",this.deviceSelected)}},mounted:function(){this.deviceSelected=this.deviceList[0]},name:"SettingsSerial"},$=o("9989"),_=o("66e5"),w=o("4074"),x=o("0170"),D=o("9c40"),I=o("9569"),k=o("cf57"),j=o("0016"),P=Object(f.a)(y,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-page",{staticClass:"fit column no-wrap justify-center items-center content-center"},[o("section",[o("h2",[e._v("Serial Settings")]),o("q-select",{staticClass:"q-mr-md",attrs:{rounded:"",outlined:"",label:"Device","option-label":function(e){return e.comName},"option-value":function(e){return e},options:e.deviceList},scopedSlots:e._u([{key:"option",fn:function(t){return[o("q-item",e._g(e._b({},"q-item",t.itemProps,!1),t.itemEvents),[o("q-item-section",[o("q-item-label",[e._v("\n                            "+e._s(t.opt.comName)+"\n                        ")]),o("q-item-label",{attrs:{caption:""}},[e._v("\n                            "+e._s(t.opt.pnpId)+"\n                        ")]),o("q-item-label",{attrs:{caption:""}},[e._v("\n                            "+e._s(t.opt.manufacturer)+"\n                        ")]),o("q-item-label",{attrs:{caption:""}},[e._v("\n                            vendorId:"+e._s(t.opt.vendorId)+"\n                        ")]),o("q-item-label",{attrs:{caption:""}},[e._v("\n                            productId:"+e._s(t.opt.productId)+"\n                        ")]),o("q-item-label",{attrs:{caption:""}},[e._v("\n                            serialNumber:"+e._s(t.opt.serialNumber)+"\n                        ")])],1)],1)]}},{key:"no-option",fn:function(){return[o("q-item",[o("q-item-section",[e._v("\n                        No Devices\n                    ")])],1)]},proxy:!0},{key:"append",fn:function(){return[o("q-btn",{attrs:{flat:"",round:"",dense:"",hint:"search devices",icon:"refresh"},on:{click:function(t){return e.updateSerialDeviceList()}},scopedSlots:e._u([{key:"loading",fn:function(){return[o("q-spinner-radio")]},proxy:!0}])})]},proxy:!0}]),model:{value:e.deviceSelected,callback:function(t){e.deviceSelected=t},expression:"deviceSelected"}}),o("q-btn",{style:{opacity:e.deviceSelected?"inherit":"0.05"},attrs:{rounded:"",icon:e.connected?"phonelink_off":"phonelink",label:e.connected?"disconnect":"connect",disable:!e.deviceSelected},on:{click:function(t){return e.connect()}},scopedSlots:e._u([{key:"loading",fn:function(){return[o("q-spinner-gears")]},proxy:!0},{key:"after",fn:function(){return[o("q-icon",{attrs:{name:"close"}})]},proxy:!0}])}),o("debugSection",{attrs:{label:"list",obj:e.list}}),o("debugSection",{attrs:{label:"port",obj:e.port}}),o("debugSection",{attrs:{label:"baudRate",obj:e.baudRate}}),o("debugSection",{attrs:{label:"serial",obj:e.serial}})],1)])}),[],!1,null,null,null),O=P.exports;b()(P,"components",{QPage:$.a,QSelect:v.a,QItem:_.a,QItemSection:w.a,QItemLabel:x.a,QBtn:D.a,QSpinnerRadio:I.a,QSpinnerGears:k.a,QIcon:j.a});var N={data:()=>({testthing:"hello world"}),computed:i()(i()({},Object(s.a)("localconfig",["btnSize","btnSpace","devMode"])),{},{globalConfigParams:()=>({query:{}}),crateParams:()=>({query:{$sort:{_id:1}}}),cropParams:()=>({query:{$sort:{_id:1}}}),cropFilterParams:()=>({query:{$sort:{_id:1}}})}),methods:{importAll:function(){this.serverImport("crate"),this.serverImport("crop"),this.serverImport("crop-filter")},removeAll:function(){this.removeDB("crate"),this.removeDB("crop"),this.removeDB("crop-filter")},serverExportToCSV:function(e,t){console.group("serverExportToCSV"),this.$q.notify({color:"info",message:`Export ${e} as CSV on server. Processing now.`,icon:"info"}),this.$FeathersVuex.api.Management.serverExportAsCSV(e,t).then(t=>{console.log("serverImport: ",t),this.$q.notify({color:"positive",message:e+" done.",icon:"info"})}).catch(t=>{console.error("serverImport:",t),this.$q.notify({color:"negative",message:e+" loading failed.",icon:"report_problem"})}),console.groupEnd()},serverImport:function(e){console.group("serverImport"),this.$q.notify({color:"info",message:`Import ${e} from server. Processing now.`,icon:"info"}),this.$FeathersVuex.api.Management.serverImport(e).then(t=>{console.log("serverImport: ",t),this.$q.notify({color:"positive",message:e+" done.",icon:"info"})}).catch(t=>{console.error("serverImport:",t),this.$q.notify({color:"negative",message:e+" loading failed.",icon:"report_problem"})}),console.groupEnd()},removeDBFile:function(e){console.group("removeDBFile"),this.$q.notify({color:"info",message:`remove ${e} db from server. Processing now.`,icon:"info"}),this.$FeathersVuex.api.Management.removeDBFile(e).then(t=>{console.log("removeDBFile: ",t),this.$q.notify({color:"positive",message:e+" done.",icon:"info"})}).catch(t=>{console.error("removeDBFile:",t),this.$q.notify({color:"negative",message:e+" removing failed.",icon:"report_problem"})}),console.groupEnd()},removeDB:function(e){console.group("removeDB",e),this.$q.notify({color:"info",message:`remove all entries from ${e}. Processing now.`,icon:"info"});const t=this[function(e){return l(u(e))}(e)];for(var o of(console.log("serviceStore",t),t))console.log(o),o.remove();this.$q.notify({color:"positive",message:e+" done.",icon:"info"}),console.groupEnd()},serverShutdown:function(){console.group("serverShutdown"),this.$q.notify({color:"info",message:"shutting down server. Processing now.",icon:"info"}),this.$FeathersVuex.api.Management.serverShutdown().then(e=>{console.log("serverShutdown: ",e),this.$q.notify({color:"positive",message:`shutdown initiated. '${e}'`,icon:"info"})}).catch(e=>{console.error("serverShutdown:",e),this.$q.notify({color:"negative",message:`shutdown failed. '${e}'`,icon:"report_problem"})}),console.groupEnd()},gitPull:function(){console.group("gitPull"),this.$q.notify({color:"info",message:"pull software updates",icon:"info"}),this.$FeathersVuex.api.Management.gitPull().then(e=>{console.log("gitPull: ",e),this.$q.notify({color:"positive",message:`gitPull successfull. '${e}'`,icon:"info"})}).catch(e=>{console.error("gitPull:",e),this.$q.notify({color:"negative",message:`gitPull failed. '${e}'`,icon:"report_problem"})}),console.groupEnd()},startScaleDemo:function(){this.$store.dispatch("localconfig/startScaleDemo").then(e=>{console.log("startScaleDemo: ",e),this.$q.notify({color:"positive",message:"startScaleDemo done.",icon:"info"})}).catch(e=>{console.error("startScaleDemo:",e),this.$q.notify({color:"negative",message:"startScaleDemo failed.",icon:"report_problem"})})}},created:function(){},mixins:[Object(r.b)({service:"global-config"}),Object(r.b)({service:"crate"}),Object(r.b)({service:"crop"}),Object(r.b)({service:"crop-filter"})],components:{debugSection:d.a,langSelect:S,settingsSerial:O},name:"PageSettings"},E=o("9564"),C=o("27f9"),L=o("714f"),Q=Object(f.a)(N,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-page",{staticClass:"fit column no-wrap justify-center items-center content-center"},[o("h1",[e._v(e._s(e.$t("global"))+" "+e._s(e.$t("settings")))]),o("section",[o("q-btn",{attrs:{round:"",color:e.$q.dark.isActive?"blue":"black",icon:"mdi-lightbulb-on-outline"},on:{click:function(t){return e.$q.dark.toggle()}}}),o("langSelect")],1),o("section",[o("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"export harvest to csv on server",icon:"mdi-database-export"},on:{click:function(t){return e.serverExportToCSV("harvest","current_day")}}}),o("br"),o("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"import config from files",icon:"mdi-database-export"},on:{click:function(t){return e.importAll()}}}),o("br"),o("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"remove config database entries",icon:"mdi-database-export"},on:{click:function(t){return e.removeAll()}}}),o("br"),o("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"shutdown server",icon:"mdi-database-export"},on:{click:function(t){return e.serverShutdown()}}}),o("br"),o("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"pull software updates",icon:"mdi-database-export"},on:{click:function(t){return e.gitPull()}}}),o("br"),o("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"start Scale Demo Generator ",icon:"mdi-database-export"},on:{click:function(t){return e.startScaleDemo()}}}),o("br")],1),o("section",[o("q-toggle",{attrs:{size:"lg",label:"Dev Mode"},model:{value:e.devMode,callback:function(t){e.devMode=t},expression:"devMode"}})],1),o("section",[o("q-input",{attrs:{filled:"",label:"button size (mm)",type:"number",debounce:"500"},model:{value:e.btnSize,callback:function(t){e.btnSize=e._n(t)},expression:"btnSize"}}),o("q-input",{attrs:{filled:"",label:"button spaceing (mm)",type:"number",debounce:"500"},model:{value:e.btnSpace,callback:function(t){e.btnSpace=e._n(t)},expression:"btnSpace"}})],1),o("settingsSerial"),o("debugSection",{attrs:{label:"testthing",obj:e.testthing}})],1)}),[],!1,null,null,null);t.default=Q.exports;b()(Q,"components",{QPage:$.a,QBtn:D.a,QToggle:E.a,QInput:C.a}),b()(Q,"directives",{Ripple:L.a})},c266:function(e,t,o){}}]);
//# sourceMappingURL=2.13420d67.js.map