(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"49c4":function(e,t,n){"use strict";n("c266")},"91e5":function(e,t,n){"use strict";var o={props:{obj:{default:function(){return{}}},label:{type:String,default:""}},data:()=>({}),filters:{pretty:function(e){let t=e;try{t=JSON.parse(e)}catch(e){}return JSON.stringify(t,null,4)}}},i=(n("49c4"),n("2877")),r=Object(i.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"debug"},[t("label",[this._v(this._s(this.label))]),t("pre",[this._v(this._s(this._f("pretty")(this.obj)))])])}),[],!1,null,null,null);t.a=r.exports},b41f:function(e,t,n){"use strict";n.r(t);var o=n("9e62"),i=n("91e5"),r=n("ded3"),s=n.n(r),c=(n("fb6a"),n("e6cf"),n("ddb0"),n("2b0e")),a=n("2e40");function l(e){let t=e.split("-");t=t.map(e=>{return(t=e).charAt(0).toUpperCase()+t.slice(1);var t});return t.join("")}const u={vendorId:-1,productId:-1,comName:"/dummyResponder/0",pnpId:-1,locationId:-1,serialNumber:"42",manufacturer:"s-light.eu",product:"dummyResponder",release:void 0,interface:void 0,usagePage:void 0,usage:void 0};var d={data:()=>({deviceSelected:{},deviceList:[u]}),components:{DebugSection:i.a},mixins:[Object(o.b)({service:"serial"})],computed:s()({serialParams:()=>({query:{}})},function(e,t){const n={},i={},r=l(e),s=a.e.api[r],u=(d=r).charAt(0).toLowerCase()+d.slice(1);var d;const p={};c.default.set(p,"gcList",{}),n[u]={get:function(){return p.gcList}};for(const e of t)i[e]={get:function(){return null},set:function(e){}};s.find({query:{},paginate:!1}).then(e=>{for(const t of e.data)p.gcList[t.id]=t}).catch(e=>{console.error(e.message,e)});for(const e of t){let t=Object(o.d)({model:s,id:e,_id:e}).item.value;t||(t=new s({id:e,_id:e,value:null}),t.create().catch(e=>{console.error("mapBindIDItems: create - "+e.message,e)}));const n=t.clone();i[e].get=function(){return n.value},i[e].set=function(e){n.value=e,n.commit(),t.patch({data:{value:e}})}}return Object.assign({},n,i)}("serial",["list","port","baudRate","connected"])),methods:{updateSerialDeviceList:function(){console.group("serverExportToCSV");this.$q.notify({color:"info",message:"update serial device list. Processing now.",icon:"info"}),this.$FeathersVuex.api.Management.updateSerialDeviceList().then(e=>{console.log("updateSerialDeviceList: ",e),this.$q.notify({color:"positive",message:"serial done.",icon:"info"})}).catch(e=>{console.error("updateSerialDeviceList:",e),this.$q.notify({color:"negative",message:"serial update failed.",icon:"report_problem"})}),console.groupEnd()},connect:function(){console.log("deviceSelected",this.deviceSelected)}},mounted:function(){this.deviceSelected=this.deviceList[0]},name:"SettingsSerial"},p=n("2877"),m=n("9989"),f=n("ddd8"),v=n("66e5"),b=n("4074"),g=n("0170"),h=n("9c40"),S=n("9569"),_=n("cf57"),q=n("0016"),y=n("eebe"),I=n.n(y),x=Object(p.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{staticClass:"fit column no-wrap justify-center items-center content-center"},[n("section",[n("h2",[e._v("Serial Settings")]),n("q-select",{staticClass:"q-mr-md",staticStyle:{"min-width":"12em",background:"transparent"},attrs:{rounded:"",outlined:"",label:"Device","option-label":function(e){return e.comName},"option-value":function(e){return e},options:e.deviceList},scopedSlots:e._u([{key:"option",fn:function(t){return[n("q-item",e._g(e._b({},"q-item",t.itemProps,!1),t.itemEvents),[n("q-item-section",[n("q-item-label",[e._v("\n                            "+e._s(t.opt.comName)+"\n                        ")]),n("q-item-label",{attrs:{caption:""}},[e._v("\n                            "+e._s(t.opt.pnpId)+"\n                        ")]),n("q-item-label",{attrs:{caption:""}},[e._v("\n                            "+e._s(t.opt.manufacturer)+"\n                        ")]),n("q-item-label",{attrs:{caption:""}},[e._v("\n                            vendorId:"+e._s(t.opt.vendorId)+"\n                        ")]),n("q-item-label",{attrs:{caption:""}},[e._v("\n                            productId:"+e._s(t.opt.productId)+"\n                        ")]),n("q-item-label",{attrs:{caption:""}},[e._v("\n                            serialNumber:"+e._s(t.opt.serialNumber)+"\n                        ")])],1)],1)]}},{key:"no-option",fn:function(){return[n("q-item",[n("q-item-section",[e._v("\n                        No Devices\n                    ")])],1)]},proxy:!0},{key:"append",fn:function(){return[n("q-btn",{attrs:{flat:"",round:"",dense:"",hint:"search devices",icon:"refresh"},on:{click:function(t){return e.updateSerialDeviceList()}},scopedSlots:e._u([{key:"loading",fn:function(){return[n("q-spinner-radio")]},proxy:!0}])})]},proxy:!0}]),model:{value:e.deviceSelected,callback:function(t){e.deviceSelected=t},expression:"deviceSelected"}}),n("q-btn",{style:{opacity:e.deviceSelected?"inherit":"0.05"},attrs:{rounded:"",icon:e.connected?"phonelink_off":"phonelink",label:e.connected?"disconnect":"connect",disable:!e.deviceSelected},on:{click:function(t){return e.connect()}},scopedSlots:e._u([{key:"loading",fn:function(){return[n("q-spinner-gears")]},proxy:!0},{key:"after",fn:function(){return[n("q-icon",{attrs:{name:"close"}})]},proxy:!0}])}),n("debugSection",{attrs:{label:"list",obj:e.list}}),n("debugSection",{attrs:{label:"port",obj:e.port}}),n("debugSection",{attrs:{label:"baudRate",obj:e.baudRate}}),n("debugSection",{attrs:{label:"serial",obj:e.serial}})],1)])}),[],!1,null,null,null),k=x.exports;I()(x,"components",{QPage:m.a,QSelect:f.a,QItem:v.a,QItemSection:b.a,QItemLabel:g.a,QBtn:h.a,QSpinnerRadio:S.a,QSpinnerGears:_.a,QIcon:q.a});var $={data:()=>({testthing:"hello world"}),computed:{globalConfigParams:()=>({query:{}})},methods:{importAll:function(){this.serverImport("crate"),this.serverImport("crop"),this.serverImport("crop-filter")},serverExportToCSV:function(e,t){console.group("serverExportToCSV"),this.$q.notify({color:"info",message:`Export ${e} as CSV on server. Processing now.`,icon:"info"}),this.$FeathersVuex.api.Management.serverExportAsCSV(e,t).then(t=>{console.log("serverImport: ",t),this.$q.notify({color:"positive",message:e+" done.",icon:"info"})}).catch(t=>{console.error("serverImport:",t),this.$q.notify({color:"negative",message:e+" loading failed.",icon:"report_problem"})}),console.groupEnd()},serverImport:function(e){console.group("serverImport"),this.$q.notify({color:"info",message:`Import ${e} from server. Processing now.`,icon:"info"}),this.$FeathersVuex.api.Management.serverImport(e).then(t=>{console.log("serverImport: ",t),this.$q.notify({color:"positive",message:e+" done.",icon:"info"})}).catch(t=>{console.error("serverImport:",t),this.$q.notify({color:"negative",message:e+" loading failed.",icon:"report_problem"})}),console.groupEnd()}},created:function(){},mixins:[Object(o.b)({service:"global-config"})],components:{debugSection:i.a,settingsSerial:k},name:"PageSettings"},j=n("27f9"),w=n("714f"),C=Object(p.a)($,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{staticClass:"fit column no-wrap justify-center items-center content-center"},[n("h1",[e._v("Global Settings")]),n("section",[n("q-btn",{attrs:{round:"",color:e.$q.dark.isActive?"blue":"black",icon:"mdi-lightbulb-on-outline"},on:{click:function(t){return e.$q.dark.toggle()}}})],1),n("section",[n("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"export harvest to csv on server",icon:"mdi-database-export"},on:{click:function(t){return e.serverExportToCSV("harvest","current_day")}}}),n("br"),n("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"import crop from file",icon:"mdi-database-export"},on:{click:function(t){return e.importAll()}}}),n("br")],1),n("settingsSerial"),n("debugSection",{attrs:{label:"testthing",obj:e.testthing}})],1)}),[],!1,null,null,null);t.default=C.exports;I()(C,"components",{QPage:m.a,QBtn:h.a,QInput:j.a}),I()(C,"directives",{Ripple:w.a})},c266:function(e,t,n){}}]);
//# sourceMappingURL=6.08cebf75.js.map