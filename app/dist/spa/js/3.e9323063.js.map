{"version":3,"sources":["webpack:///./src/pages/SaveHarvest.vue?5edd","webpack:///./src/store/mapBind.js","webpack:///./src/components/keypad.vue?17db","webpack:///./src/pages/SaveHarvest.vue?9929","webpack:///./src/components/keypad.vue?c57e","webpack:///src/components/keypad.vue","webpack:///./src/components/keypad.vue?5e2f","webpack:///./src/components/keypad.vue?13e5","webpack:///src/pages/SaveHarvest.vue","webpack:///./src/pages/SaveHarvest.vue?b8ac","webpack:///./src/pages/SaveHarvest.vue"],"names":["mapBind","base","params","map","mapState","result","key","value","Object","entries","get","set","val","mutationName","string","charAt","toUpperCase","slice","this","$store","commit","component","_vm","_h","$createElement","_c","_self","staticClass","_l","attrs","early","color","on","$event","push","QBtn","type","indexOf","_k","keyCode","save","scopedSlots","_u","fn","staticStyle","_v","_s","$t","_f","totalWeight","lang","scaleUnit","crateSelected","tareWeight","proxy","model","callback","$$v","currentWeight","expression","_e","item","_id","imageBaseURL","crop","image","text","place","weight","createdAt","QPage","QInput","QList","QItem","QItemSection","QAvatar"],"mappings":"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","file":"js/3.e9323063.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-2-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-2-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-2-2!../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveHarvest.vue?vue&type=style&index=0&id=5a01f114&scoped=true&lang=css&\"","// ------------------------------------------\n// usage:\n// import { mapBind } from 'store/mapBind.js'\n//\n// export default {\n//     name: 'ComponentName',\n//     computed: {\n//         ...mapBind('appconfig', ['globalMessage', 'someOtherThing'])\n//     },\n// }\n\n// inspired by https://stackoverflow.com/a/48447361/574981\n\nimport { mapState } from 'vuex'\n\n// export const mapBind = (base, params = {}) => (\n// export const mapBind = (base, params) => (\nexport const mapBind = function (base, params) {\n    // helper function for vuex\n    // create setter and getter functions for given store and properties\n    function capitalizeFirstLetter (string) {\n        // https://stackoverflow.com/questions/1026069/how-do-i-make-the-first-letter-of-a-string-uppercase-in-javascript\n        return string.charAt(0).toUpperCase() + string.slice(1)\n    }\n\n    const map = mapState(base, params)\n    const result = {}\n    // console.log(map)\n    for (const [key, value] of Object.entries(map)) {\n        // console.log('key', key)\n        // console.log('value', value)\n        result[key] = {\n            get: value\n        }\n        result[key].set = function (val) {\n            // this.$store.commit('appconfig/setGlobalMessage', val)\n            const mutationName = 'set' + capitalizeFirstLetter(key)\n            this.$store.commit(base + '/' + mutationName, val)\n        }\n    }\n    // console.log(result)\n    return result\n// )\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-2-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-2-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-2-2!../../node_modules/stylus-loader/index.js??ref--7-oneOf-2-3!../../node_modules/@quasar/app/lib/webpack/loader.quasar-stylus-variables.js!../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./keypad.vue?vue&type=style&index=0&lang=stylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-page',{staticClass:\"fit\"},[_c('section',{staticClass:\"row no-wrap justify-evenly items-stretch content-stretch\"},[_c('section',{staticClass:\"column no-wrap justify-evenly items-stretch content-stretch\"},[_c('div',{staticClass:\"q-mt-md\"},[_c('q-input',{staticClass:\"weight_display\",attrs:{\"debounce\":\"500\",\"input-class\":\"text-right\",\"filled\":\"\",\"hide-bottom-space\":\"\",\"item-aligned\":\"\",\"label-slot\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.save()}},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('div',{staticClass:\"row justify-between items-start content-start\",staticStyle:{\"font-size\":\"2em\",\"line-height\":\"2em\"}},[_c('div',{},[_vm._v(\"\\n                                \"+_vm._s(_vm.$t('weight'))+\"\\n                            \")]),_c('div',{staticStyle:{\"font-size\":\"0.8em\"}},[_vm._v(\"\\n                                \"+_vm._s(_vm._f(\"formatWeight\")(_vm.totalWeight,_vm.lang))+\" \"+_vm._s(_vm.scaleUnit)+\" \"+_vm._s(_vm.$t('scale'))+\" -\\n                                Tare: \"+_vm._s(_vm._f(\"formatWeight\")(_vm.crateSelected.tareWeight,_vm.lang))+\" \"+_vm._s(_vm.scaleUnit)+\"\\n                            \")])])]},proxy:true},{key:\"append\",fn:function(){return [_vm._v(\"\\n                        \"+_vm._s(_vm.scaleUnit)+\"\\n                    \")]},proxy:true}]),model:{value:(_vm.currentWeight),callback:function ($$v) {_vm.currentWeight=$$v},expression:\"currentWeight\"}})],1),_c('section',{staticClass:\"col-grow row no-wrap justify-evenly items-stretch content-stretch\"},[_c('q-btn',{staticClass:\"col\",staticStyle:{\"min-width\":\"50mm\",\"min-height\":\"50mm\",\"margin\":\"0.2em\"},attrs:{\"label\":_vm.$t('save'),\"icon\":\"mdi-database-plus\",\"ripple\":{ early: true, color: 'orange'},\"stack\":\"\",\"size\":\"20mm\"},on:{\"click\":function($event){return _vm.save()}}}),(_vm.keypadVisible)?_c('keypad',{staticClass:\"col\",staticStyle:{\"margin\":\"0.2em\"},model:{value:(_vm.currentWeight),callback:function ($$v) {_vm.currentWeight=$$v},expression:\"currentWeight\"}}):_vm._e()],1)]),_c('section',{staticClass:\"row justify-between items-stretch content-stretch\",staticStyle:{\"min-width\":\"28em\",\"overflowY\":\"scroll\",\"max-height\":\"100vh\"}},[_c('q-list',_vm._l((_vm.harvest),function(item){return _c('q-item',{key:item._id},[_c('q-item-section',{attrs:{\"avatar\":\"\"}},[_c('q-avatar',{attrs:{\"rounded\":\"\"}},[_c('img',{attrs:{\"src\":_vm.imageBaseURL + item.crop.image}})])],1),_c('q-item-section',[_vm._v(\"\\n                            \"+_vm._s(item.crop.text)+\" \"),_c('br'),_vm._v(\"\\n                            \"+_vm._s(item.place.text)+\" |\\n                            \"+_vm._s(item.weight)+\" \"+_vm._s(item.scaleUnit)+\"\\n                            \"),_vm._v(\"\\n                            \"+_vm._s(_vm._f(\"toLocal\")(item.createdAt,_vm.lang))+\"\\n                        \")])],1)}),1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./keypad.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./keypad.vue?vue&type=script&lang=js&\"","<template>\n    <div class=\"keypad\">\n        <q-btn\n            v-for=\"key in keys\"\n            :key=\"key\"\n            :label=\"key\"\n            @click=\"push(key)\"\n            :ripple=\"{ early: true, color: 'orange'}\"\n        />\n        <!--\n        :label=\"$t(key)\"\n        stack\n        -->\n    </div>\n</template>\n\n<script>\n\nexport default {\n    name: 'keypad',\n    model: {\n        prop: 'value',\n        event: 'change'\n    },\n    data () {\n        return {\n            keys: [\n                7, 8, 9,\n                4, 5, 6,\n                1, 2, 3,\n                0, ',', 'del'\n            ],\n            lastKeyDecimal: false\n        }\n    },\n    props: {\n        value: {\n            type: [String],\n            required: true\n        }\n    },\n    methods: {\n        push: function (key) {\n            console.log('key', key)\n            console.log('this.value', this.value)\n            let result = ''\n            let valueStr = this.value.toString()\n            valueStr = valueStr.replace(',', '.')\n            console.log('valueStr', valueStr)\n            valueStr = valueStr.replace('.00', '')\n            // here we need some regex magic to trimm leading and trailing 0 ?!\n            if (this.lastKeyDecimal) {\n                this.lastKeyDecimal = false\n                valueStr = valueStr + '.'\n            }\n            console.log('valueStr', valueStr)\n            switch (key) {\n            case 0:\n            case 1:\n            case 2:\n            case 3:\n            case 4:\n            case 5:\n            case 6:\n            case 7:\n            case 8:\n            case 9:\n                result = valueStr + key.toString()\n                break\n            case ',' :\n                // result = valueStr + '.0'\n                result = valueStr\n                this.lastKeyDecimal = true\n                break\n            case 'del':\n                // remove last char\n                // result = valueStr.slice(0, -1)\n                result = '0'\n                break\n            }\n            console.log('result', result)\n            this.$emit('change', result)\n        }\n    }\n\n}\n</script>\n\n<style lang=\"stylus\">\n.keypad\n    /* background-color: hsla(100, 90%, 45%, 0.8) */\n    min-width: 2em\n    min-height: 2em\n\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr\n    grid-gap: 20px\n\n</style>\n","import { render, staticRenderFns } from \"./keypad.vue?vue&type=template&id=48eb553c&\"\nimport script from \"./keypad.vue?vue&type=script&lang=js&\"\nexport * from \"./keypad.vue?vue&type=script&lang=js&\"\nimport style0 from \"./keypad.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport qInstall from \"../../node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\";\nqInstall(component, 'components', {QBtn});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"keypad\"},_vm._l((_vm.keys),function(key){return _c('q-btn',{key:key,attrs:{\"label\":key,\"ripple\":{ early: true, color: 'orange'}},on:{\"click\":function($event){return _vm.push(key)}}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <q-page class=\"fit\">\n        <section class=\"row no-wrap justify-evenly items-stretch content-stretch\">\n            <section class=\"column no-wrap justify-evenly items-stretch content-stretch\">\n                <div class=\"q-mt-md\">\n                    <!-- <div id=\"weight_display\" class=\"\">\n                        total weight: {{ totalWeight | formatWeight(lang) }} {{ scaleUnit }}\n                    </div> -->\n                    <!--\n                        '{{ lang }}'\n                        hint=\"Mask: #.##\"\n                        input-style=\"height: 50px;\"\n                    -->\n                    <q-input\n                        v-model=\"currentWeight\"\n                        debounce=\"500\"\n                        @keyup.enter=\"save()\"\n                        class=\"weight_display\"\n                        input-class=\"text-right\"\n                        filled\n                        hide-bottom-space\n                        item-aligned\n                        label-slot\n                    >\n                        <template v-slot:label>\n                            <div\n                                class=\"row justify-between items-start content-start\"\n                                style=\"font-size:2em; line-height:2em\"\n                            >\n                                <div style=\"\">\n                                    {{ $t('weight') }}\n                                </div>\n                                <div style=\"font-size: 0.8em\">\n                                    {{ totalWeight | formatWeight(lang) }} {{ scaleUnit }} {{ $t('scale') }} -\n                                    Tare: {{ crateSelected.tareWeight | formatWeight(lang) }} {{ scaleUnit }}\n                                </div>\n                            </div>\n                        </template>\n                        <template\n                            #append\n                            style=\"font-size:1em;\"\n                        >\n                            {{ scaleUnit }}\n                        </template>\n                    </q-input>\n                </div>\n\n                <section\n                    class=\"col-grow row no-wrap justify-evenly items-stretch content-stretch\"\n                >\n                    <!--\n                        :disable=\"!scaleStable\"\n                        style=\"width:90mm; height:90mm; flex: 0 1 auto; margin-right: 0.2em;\"\n                    -->\n                    <q-btn\n                        :label=\"$t('save')\"\n                        @click=\"save()\"\n                        icon=\"mdi-database-plus\"\n                        :ripple=\"{ early: true, color: 'orange'}\"\n                        stack\n                        class=\"col\"\n                        style=\"min-width:50mm; min-height:50mm; margin: 0.2em;\"\n                        size=\"20mm\"\n                    />\n                    <keypad\n                        v-if=\"keypadVisible\"\n                        v-model=\"currentWeight\"\n                        class=\"col\"\n                        style=\"margin: 0.2em;\"\n                    />\n                </section>\n            </section>\n            <!--\n            -->\n            <section\n                class=\"row justify-between items-stretch content-stretch\"\n                style=\"min-width: 28em; overflowY: scroll; max-height: 100vh;\"\n            >\n                <!-- <div style=\"flex: 1 1 auto; padding:1em;\"> -->\n                    <q-list>\n                        <q-item\n                            v-for=\"item in harvest\"\n                            :key=\"item._id\"\n                        >\n                            <q-item-section avatar>\n                                <q-avatar rounded>\n                                    <img :src=\"imageBaseURL + item.crop.image\">\n                                </q-avatar>\n                            </q-item-section>\n                            <q-item-section>\n                                {{ item.crop.text }} <br>\n                                {{ item.place.text }} |\n                                {{item.weight}} {{item.scaleUnit}}\n                                <!-- {{ item.createdAt | formatdate() }} -->\n                                {{ item.createdAt | toLocal(lang) }}\n                            </q-item-section>\n                        </q-item>\n                    </q-list>\n                    <!-- <debugSection label=\"harvest\" :obj=\"harvest\"/> -->\n                <!-- </div> -->\n                <!-- :style=\"btnStyle\" -->\n                <!-- size=\"30mm\" -->\n                <!-- icons:\n                send\n                mdi-content-save\n                mdi-content-save-move\n                mdi-database-check\n                mdi-database-plus\n                mdi-database-arrow-down\n                mdi-check-bold\n                -->\n            </section>\n        </section>\n        <!-- <section style=\"font-size:0.8em;\">\n            <debugSection label=\"crateSelected\" :obj=\"crateSelected\"/>\n            <debugSection label=\"cropSelected\" :obj=\"cropSelected\"/>\n            <debugSection label=\"placeSelected\" :obj=\"placeSelected\"/>\n        </section> -->\n    </q-page>\n</template>\n\n<script>\nimport { makeFindMixin } from 'feathers-vuex'\nimport { mapBind } from '../store/mapBind.js'\n// import DebugSection from 'components/debugSection'\nimport keypad from 'components/keypad.vue'\n\nexport default {\n    name: 'PageSaveHarvest',\n    data () {\n        return {\n            imageBaseURL: 'http://localhost:3030/api/'\n        }\n    },\n    methods: {\n        save: function () {\n            console.group('save harvest log entry')\n            // console.log('crateSelected', this.crateSelected)\n            // console.log('cropSelected', this.cropSelected)\n            // console.log('placeSelected', this.placeSelected)\n            // console.log('totalWeight', this.totalWeight)\n            // console.log('currentWeight', this.currentWeight)\n            // console.log('scaleStable', this.scaleStable)\n            // console.log('scaleUnit', this.scaleUnit)\n            console.log('this.crateSelected._id', this.crateSelected._id)\n            console.log('this.cropSelected._id', this.cropSelected._id)\n            console.log('this.placeSelected._id', this.placeSelected._id)\n            // check if all requirements are fine\n            if (\n                this.crateSelected._id &&\n                this.cropSelected._id &&\n                !isNaN(this.placeSelected._id)\n                // this.placeSelected._id &&\n                // this.scaleStable\n            ) {\n                const Harvest = this.$FeathersVuex.api.Harvest\n                const entry = new Harvest({\n                    crate: this.crateSelected,\n                    crop: this.cropSelected,\n                    place: this.placeSelected,\n                    crateTareWeight: this.crateSelected.tareWeight,\n                    cropText: this.cropSelected.text,\n                    placeText: this.placeSelected.text,\n                    weight: this.currentWeight,\n                    scaleUnit: this.scaleUnit,\n                    createdAt: new Date()\n                })\n                entry.save()\n            } else {\n                this.$q.notify({\n                    color: 'negative',\n                    message: 'Please Check that all requirements are filled.',\n                    icon: 'report_problem'\n                })\n            }\n\n            console.groupEnd()\n        }\n    },\n    computed: {\n        currentWeight: {\n            // getter\n            get: function () {\n                let result = this.totalWeight\n                if (result && !isNaN(result)) {\n                    if (\n                        this.crateSelected &&\n                        this.crateSelected.tareWeight\n                    ) {\n                        result -= this.crateSelected.tareWeight\n                        // result = result.toFixed(2)\n                    }\n                } else {\n                    result = 0.0\n                }\n                // force float\n                // result = result * 1.0\n                // console.log('currentWeight.get result', result)\n                result = this.$options.filters.formatWeight(result)\n                // console.log('currentWeight.get result', result)\n                return result\n            },\n            // setter\n            set: function (newValue) {\n                // console.log('currentWeight.set newValue', newValue)\n                newValue = newValue.replace(',', '.')\n                let result = parseFloat(newValue)\n                // console.log('currentWeight.set result', result)\n                if (\n                    this.crateSelected &&\n                    this.crateSelected.tareWeight\n                ) {\n                    result += this.crateSelected.tareWeight\n                    result = result.toFixed(2)\n                }\n                // console.log('currentWeight.set result', result)\n                this.totalWeight = result\n            }\n        },\n        ...mapBind('localconfig', [\n            'btnSize',\n            'btnSpace',\n            'keypadVisible',\n            'crateSelected',\n            'cropSelected',\n            'placeSelected',\n            'totalWeight',\n            'scaleStable',\n            'scaleUnit'\n        ]),\n        // ]),\n        harvestParams () {\n            return {\n                query: {\n                    $limit: 20,\n                    $sort: {\n                        createdAt: -1\n                    }\n                }\n            }\n        },\n        // btnStyle: function () {\n        //     return {\n        //         width: '100%',\n        //         height: '100%'\n        //     }\n        // },\n        lang: function () {\n            // return this.$i18n.locale\n            let result = this.$q.lang.isoName\n            if (!result) {\n                result = 'de'\n            }\n            return result\n        }\n    },\n    mixins: [\n        makeFindMixin({ service: 'harvest' })\n    ],\n    components: {\n        keypad\n        // DebugSection\n    }\n}\n</script>\n\n<style scoped>\n.weight_display {\n    font-size: 16em;\n}\n/* all other styles are in the global space - otherwise they do not work! */\n</style>\n","import mod from \"-!../../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveHarvest.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveHarvest.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SaveHarvest.vue?vue&type=template&id=5a01f114&scoped=true&\"\nimport script from \"./SaveHarvest.vue?vue&type=script&lang=js&\"\nexport * from \"./SaveHarvest.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SaveHarvest.vue?vue&type=style&index=0&id=5a01f114&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a01f114\",\n  null\n  \n)\n\nexport default component.exports\nimport QPage from 'quasar/src/components/page/QPage.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QList from 'quasar/src/components/item/QList.js';\nimport QItem from 'quasar/src/components/item/QItem.js';\nimport QItemSection from 'quasar/src/components/item/QItemSection.js';\nimport QAvatar from 'quasar/src/components/avatar/QAvatar.js';\nimport qInstall from \"../../node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\";\nqInstall(component, 'components', {QPage,QInput,QBtn,QList,QItem,QItemSection,QAvatar});\n"],"sourceRoot":""}