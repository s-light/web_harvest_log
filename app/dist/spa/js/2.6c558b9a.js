(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"49c4":function(e,t,n){"use strict";n("c266")},"644c":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"i",(function(){return d}));n("ddb0");var o=n("b489");function r(){this.serverImport("crate"),this.serverImport("crop"),this.serverImport("crop-filter")}function i(){this.removeDB("crate"),this.removeDB("crop"),this.removeDB("crop-filter")}function s(e,t){console.group("serverExportToCSV"),this.$q.notify({color:"info",message:`Export ${e} as CSV on server. Processing now.`,html:!0}),this.$FeathersVuex.api.Management.serverExportAsCSV(e,t).then(t=>{console.log("serverImport: ",t),this.$q.notify({type:"positive",message:e+" done.",html:!0})}).catch(t=>{console.error("serverImport:",t),this.$q.notify({type:"negative",message:e+" loading failed.",html:!0})}),console.groupEnd()}function c(e){console.group("serverImport"),this.$q.notify({color:"info",message:`Import ${e} from server. Processing now.`,html:!0}),this.$FeathersVuex.api.Management.serverImport(e).then(t=>{console.log("serverImport: ",t),this.$q.notify({type:"positive",message:e+" done.",html:!0})}).catch(t=>{console.error("serverImport:",t),this.$q.notify({type:"negative",message:e+" loading failed.",html:!0})}),console.groupEnd()}function a(e){console.group("removeDBFile"),this.$q.notify({color:"info",message:`remove ${e} db from server. Processing now.`,html:!0}),this.$FeathersVuex.api.Management.removeDBFile(e).then(t=>{console.log("removeDBFile: ",t),this.$q.notify({type:"positive",message:e+" done.",html:!0})}).catch(t=>{console.error("removeDBFile:",t),this.$q.notify({type:"negative",message:e+" removing failed.",html:!0})}),console.groupEnd()}function l(e){console.group("removeDB",e),this.$q.notify({color:"info",message:`remove all entries from ${e}. Processing now.`,html:!0});const t=this[Object(o.b)(e)];for(var n of(console.log("serviceStore",t),t))console.log(n),n.remove();this.$q.notify({type:"positive",message:e+" done.",html:!0}),console.groupEnd()}function u(e){console.group("serverSystemAction",e),this.$q.notify({color:"info",message:`initiated server system action '${e}'`,html:!0}),this.$FeathersVuex.api.Management.serverSystemAction(e).then(t=>{console.log("serverSystemAction: ",t);let n="";if(t.result)if(Array.isArray(t.result))for(const e of t.result)n+="\n"+e.stdout;else n=t.result.stdout;console.log("resultMessage: ",n);let o=`server system action '${e}' done.`;n&&(o+=`\n<br> '${n}'`),this.$q.notify({type:"positive",message:o,html:!0})}).catch(t=>{console.error("serverSystemAction:\n",t),this.$q.notify({type:"negative",message:`'${e}' failed. \n<br> '${t}'`,html:!0})}),console.groupEnd()}function p(){console.group("gitPull"),this.$q.notify({color:"info",message:"pull software updates",html:!0}),this.$FeathersVuex.api.Management.gitPull().then(e=>{console.log("gitPull: ",e);let t="";if(e.result)if(Array.isArray(e.result))for(const n of e.result)for(const e of n.stdout)t+=e+"\n<br>";else t=e.result.stdout;console.log("resultMessage: ",t);let n="'gitPull' successful.";t&&(n+="\n<br> "+t),console.log("message: ",n),this.$q.notify({type:"positive",message:n,html:!0})}).catch(e=>{console.error("gitPull",": ",e),this.$q.notify({type:"negative",message:`'gitPull' failed. \n<br> '${e}'`,html:!0})}),console.groupEnd()}function d(){this.$store.dispatch("localconfig/startScaleDemo").then(e=>{console.log("startScaleDemo: ",e),this.$q.notify({type:"positive",message:"startScaleDemo done.",html:!0})}).catch(e=>{console.error("startScaleDemo:",e),this.$q.notify({type:"negative",message:"startScaleDemo failed.",html:!0})})}},"8b93":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("fb6a"),n("ddb0");var o=n("2f62");const r=function(e,t){const n=Object(o.b)(e,t),r={};for(const[t,o]of Object.entries(n))r[t]={get:o},r[t].set=function(n){const o="set"+((r=t).charAt(0).toUpperCase()+r.slice(1));var r;this.$store.commit(e+"/"+o,n)};return r}},"91e5":function(e,t,n){"use strict";var o={props:{obj:{default:function(){return{}}},label:{type:String,default:""}},data:()=>({}),filters:{pretty:function(e){let t=e;try{t=JSON.parse(e)}catch(e){}return JSON.stringify(t,null,4)}}},r=(n("49c4"),n("2877")),i=Object(r.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"debug"},[t("label",[this._v(this._s(this.label))]),t("pre",[this._v(this._s(this._f("pretty")(this.obj)))])])}),[],!1,null,null,null);t.a=i.exports},"9bd8":function(e,t,n){"use strict";n.r(t);var o=n("ded3"),r=n.n(o),i=n("9e62"),s=n("8b93"),c=n("91e5"),a=n("b489");const l={vendorId:-1,productId:-1,comName:"/dummyResponder/0",pnpId:-1,locationId:-1,serialNumber:"42",manufacturer:"s-light.eu",product:"dummyResponder",release:void 0,interface:void 0,usagePage:void 0,usage:void 0};var u={data:()=>({deviceSelected:{},deviceList:[l]}),components:{DebugSection:c.a},mixins:[Object(i.b)({service:"serial"})],computed:r()({serialParams:()=>({query:{}})},Object(a.a)("serial",["list","port","baudRate","connected"])),methods:{updateSerialDeviceList:function(){console.group("serverExportToCSV");this.$q.notify({color:"info",message:"update serial device list. Processing now.",icon:"info"}),this.$FeathersVuex.api.Management.updateSerialDeviceList().then(e=>{console.log("updateSerialDeviceList: ",e),this.$q.notify({color:"positive",message:"serial done.",icon:"info"})}).catch(e=>{console.error("updateSerialDeviceList:",e),this.$q.notify({color:"negative",message:"serial update failed.",icon:"report_problem"})}),console.groupEnd()},connect:function(){console.log("deviceSelected",this.deviceSelected)}},mounted:function(){this.deviceSelected=this.deviceList[0]},name:"SettingsSerial"},p=n("2877"),d=n("9989"),m=n("ddd8"),f=n("66e5"),b=n("4074"),v=n("0170"),g=n("9c40"),h=n("9569"),y=n("cf57"),S=n("0016"),q=n("eebe"),$=n.n(q),_=Object(p.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{staticClass:"fit column no-wrap justify-center items-center content-center"},[n("section",[n("h2",[e._v("Serial Settings")]),n("q-select",{staticClass:"q-mr-md",attrs:{rounded:"",outlined:"",label:"Device","option-label":function(e){return e.comName},"option-value":function(e){return e},options:e.deviceList},scopedSlots:e._u([{key:"option",fn:function(t){return[n("q-item",e._g(e._b({},"q-item",t.itemProps,!1),t.itemEvents),[n("q-item-section",[n("q-item-label",[e._v("\n                            "+e._s(t.opt.comName)+"\n                        ")]),n("q-item-label",{attrs:{caption:""}},[e._v("\n                            "+e._s(t.opt.pnpId)+"\n                        ")]),n("q-item-label",{attrs:{caption:""}},[e._v("\n                            "+e._s(t.opt.manufacturer)+"\n                        ")]),n("q-item-label",{attrs:{caption:""}},[e._v("\n                            vendorId:"+e._s(t.opt.vendorId)+"\n                        ")]),n("q-item-label",{attrs:{caption:""}},[e._v("\n                            productId:"+e._s(t.opt.productId)+"\n                        ")]),n("q-item-label",{attrs:{caption:""}},[e._v("\n                            serialNumber:"+e._s(t.opt.serialNumber)+"\n                        ")])],1)],1)]}},{key:"no-option",fn:function(){return[n("q-item",[n("q-item-section",[e._v("\n                        No Devices\n                    ")])],1)]},proxy:!0},{key:"append",fn:function(){return[n("q-btn",{attrs:{flat:"",round:"",dense:"",hint:"search devices",icon:"refresh"},on:{click:function(t){return e.updateSerialDeviceList()}},scopedSlots:e._u([{key:"loading",fn:function(){return[n("q-spinner-radio")]},proxy:!0}])})]},proxy:!0}]),model:{value:e.deviceSelected,callback:function(t){e.deviceSelected=t},expression:"deviceSelected"}}),n("q-btn",{style:{opacity:e.deviceSelected?"inherit":"0.05"},attrs:{rounded:"",icon:e.connected?"phonelink_off":"phonelink",label:e.connected?"disconnect":"connect",disable:!e.deviceSelected},on:{click:function(t){return e.connect()}},scopedSlots:e._u([{key:"loading",fn:function(){return[n("q-spinner-gears")]},proxy:!0},{key:"after",fn:function(){return[n("q-icon",{attrs:{name:"close"}})]},proxy:!0}])}),n("debugSection",{attrs:{label:"list",obj:e.list}}),n("debugSection",{attrs:{label:"port",obj:e.port}}),n("debugSection",{attrs:{label:"baudRate",obj:e.baudRate}}),n("debugSection",{attrs:{label:"serial",obj:e.serial}})],1)])}),[],!1,null,null,null),k=_.exports;$()(_,"components",{QPage:d.a,QSelect:m.a,QItem:f.a,QItemSection:b.a,QItemLabel:v.a,QBtn:g.a,QSpinnerRadio:h.a,QSpinnerGears:y.a,QIcon:S.a});var x=n("644c"),I={data:()=>({testthing:"hello world"}),computed:r()(r()({},Object(s.a)("localconfig",["btnSize","btnSizeFilter","btnSpace","keypadVisible","devMode"])),{},{globalConfigParams:()=>({query:{}}),crateParams:()=>({query:{$sort:{_id:1}}}),cropParams:()=>({query:{$sort:{_id:1}}}),cropFilterParams:()=>({query:{$sort:{_id:1}}})}),methods:{importAll:x.b,removeAll:x.c,serverExportToCSV:x.f,serverImport:x.g,removeDBFile:x.e,removeDB:x.d,serverSystemAction:x.h,gitPull:x.a,startScaleDemo:x.i},created:function(){},mixins:[Object(i.b)({service:"global-config"}),Object(i.b)({service:"crate"}),Object(i.b)({service:"crop"}),Object(i.b)({service:"crop-filter"})],components:{debugSection:c.a,settingsSerial:k},name:"PageDebug"},w=n("9564"),D=n("27f9"),j=n("714f"),P=Object(p.a)(I,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{staticClass:"fit column no-wrap justify-center items-center content-center"},[n("h1",[e._v("\n        "+e._s(e.$t("information"))+"\n        "+e._s(e.$t("for"))+"\n        "+e._s(e.$t("developer"))+"\n    ")]),n("debugSection",{attrs:{label:"platform",obj:this.$q.platform}}),n("section",[n("q-btn",{attrs:{round:"",color:e.$q.dark.isActive?"blue":"black",icon:"mdi-lightbulb-on-outline"},on:{click:function(t){return e.$q.dark.toggle()}}}),n("br"),n("q-btn",{attrs:{flat:"",round:"",icon:e.$q.dark.isActive?"brightness_2":"brightness_5"},on:{click:function(t){return e.$q.dark.toggle()}}})],1),n("section",[n("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:e.$t("database_harvest_export_csv"),icon:"mdi-database-export"},on:{click:function(t){return e.serverExportToCSV("harvest","current_day")}}}),n("br"),n("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:e.$t("database_config_import_all"),icon:"mdi-database-import"},on:{click:function(t){return e.importAll()}}}),n("br"),n("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"import crop from file",icon:"mdi-database-import"},on:{click:function(t){return e.serverImport("crop")}}}),n("br"),n("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"import cropFilter from file",icon:"mdi-database-import"},on:{click:function(t){return e.serverImport("crop-filter")}}}),n("br"),n("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"import crate from file",icon:"mdi-database-import"},on:{click:function(t){return e.serverImport("crate")}}}),n("br"),n("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:e.$t("database_config_clean"),icon:"mdi-database-remove"},on:{click:function(t){return e.removeAll()}}}),n("br"),n("br"),n("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:e.$t("pull_updates"),icon:"mdi-download"},on:{click:function(t){return e.gitPull()}}}),n("br"),n("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:e.$t("reboot_system"),icon:"mdi-restart"},on:{click:function(t){return e.serverSystemAction("reboot")}}}),n("br"),n("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:e.$t("shutdown_system"),icon:"mdi-power"},on:{click:function(t){return e.serverSystemAction("shutdown")}}}),n("br")],1),n("section",[n("q-toggle",{attrs:{size:"xl",label:"Experimental Keypad"},model:{value:e.keypadVisible,callback:function(t){e.keypadVisible=t},expression:"keypadVisible"}}),n("br"),n("q-toggle",{attrs:{size:"xl",label:"Dev Mode"},model:{value:e.devMode,callback:function(t){e.devMode=t},expression:"devMode"}})],1),n("section",[n("q-input",{attrs:{filled:"",label:"button size (mm)",type:"number",debounce:"500"},model:{value:e.btnSize,callback:function(t){e.btnSize=e._n(t)},expression:"btnSize"}}),n("q-input",{attrs:{filled:"",label:"button filter size (mm)",type:"number",debounce:"500"},model:{value:e.btnSizeFilter,callback:function(t){e.btnSizeFilter=e._n(t)},expression:"btnSizeFilter"}}),n("q-input",{attrs:{filled:"",label:"button spaceing (mm)",type:"number",debounce:"500"},model:{value:e.btnSpace,callback:function(t){e.btnSpace=e._n(t)},expression:"btnSpace"}})],1),n("settingsSerial"),n("debugSection",{attrs:{label:"testthing",obj:e.testthing}})],1)}),[],!1,null,null,null);t.default=P.exports;$()(P,"components",{QPage:d.a,QBtn:g.a,QToggle:w.a,QInput:D.a}),$()(P,"directives",{Ripple:j.a})},b489:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return l}));n("fb6a"),n("e6cf"),n("ddb0");var o=n("2b0e"),r=n("9e62"),i=n("2e40");function s(e){return e.charAt(0).toLowerCase()+e.slice(1)}function c(e){let t=e.split("-");t=t.map(e=>{return(t=e).charAt(0).toUpperCase()+t.slice(1);var t});return t.join("")}function a(e){return s(c(e))}const l=function(e,t){const n={},a={},l=c(e),u=i.e.api[l],p=s(l),d={};o.default.set(d,"gcList",{}),n[p]={get:function(){return d.gcList}};for(const e of t)a[e]={get:function(){return null},set:function(e){}};u.find({query:{},paginate:!1}).then(e=>{for(const t of e.data)d.gcList[t.id]=t}).catch(e=>{console.error(e.type,e.message)});for(const n of t){let t=Object(r.d)({model:u,id:n,_id:n}).item.value;if(!t){const o={id:n,_id:n,value:null};t=new u(o),t.create().catch(t=>{console.error("mapBindIDItems: create - ",t.type,t.message),console.log("→ manually commit mutation *addItem*"),u.store.commit(e+"/addItem",o)})}const o=t.clone();a[n].get=function(){return o.value},a[n].set=function(e){o.value=e,o.commit(),t.patch({data:{value:e}})}}return Object.assign({},n,a)}},c266:function(e,t,n){}}]);
//# sourceMappingURL=2.6c558b9a.js.map