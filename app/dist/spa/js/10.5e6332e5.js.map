{"version":3,"sources":["webpack:///./src/pages/SaveHarvest.vue?ae7c","webpack:///./src/pages/SaveHarvest.vue?b8ac","webpack:///src/pages/SaveHarvest.vue","webpack:///./src/pages/SaveHarvest.vue"],"names":["component","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","current_weight","attrs","ws","readyState","CONNECTED","CLOSED","on","$event","reconnect","scopedSlots","_u","key","fn","proxy","staticStyle","type","indexOf","_k","keyCode","messageSend","style","opacity","messagaeToSend","directives","name","rawName","model","value","callback","$$v","expression","QPage","QBtn","QSpinnerGears","QIcon","QInput","Ripple"],"mappings":"mGAAA,ICAiW,EC6DjW,CACE,KAAF,kBACE,KAAF,KACA,CACM,GAAN,sCACM,eAAN,UACM,eAAN,kBACM,SAAN,IAGE,QAAF,CACI,YACE,QAAN,qBAEM,QAAN,yCACA,uCACQ,KAAR,sBAEM,QAAN,YAEI,cACE,QAAN,qBACM,QAAN,2CACM,KAAN,6BACM,QAAN,YAEI,eAAJ,GAGM,MAAN,SACM,KAAN,kBAII,OAAJ,GACM,QAAN,iCAGI,QAAJ,GACM,QAAN,kCAEM,KAAN,0BAEI,QAAJ,GACM,QAAN,0BAEM,KAAN,0BAEI,sBACE,KAAN,QACM,KAAN,yCACM,QAAN,gCACM,KAAN,iCACM,KAAN,sBACM,KAAN,wBACM,KAAN,0BAGE,QAAF,WACI,QAAJ,mBACI,KAAJ,sBACI,QAAJ,YAEE,cAAF,WACI,QAAJ,yBAEI,QAAJ,YAEE,QAAF,GAEE,WAAF,I,yGC5HIA,EAAY,YACd,GHRW,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,YAAY,iEAAiE,CAACF,EAAG,UAAU,CAACE,YAAY,mBAAmB,CAACF,EAAG,KAAK,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,qBAAqBL,EAAG,QAAQ,CAACM,MAAM,CAAC,QAAU,GAAG,KAAOV,EAAIW,GAAGC,aAAeZ,EAAIW,GAAGE,UAAY,gBAAkB,YAAY,MAAQ,YAAY,QAAUb,EAAIW,GAAGC,aAAeZ,EAAIW,GAAGG,QAAQC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOhB,EAAIiB,cAAcC,YAAYlB,EAAImB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,WAAW,MAAO,CAACjB,EAAG,qBAAqBkB,OAAM,GAAM,CAACF,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACjB,EAAG,SAAS,CAACM,MAAM,CAAC,KAAO,aAAaY,OAAM,OAAUlB,EAAG,UAAU,CAACE,YAAY,UAAUiB,YAAY,CAAC,YAAY,SAAS,CAACnB,EAAG,UAAU,CAACM,MAAM,CAAC,OAAS,GAAG,MAAQ,gBAAgBK,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOQ,KAAKC,QAAQ,QAAQzB,EAAI0B,GAAGV,EAAOW,QAAQ,QAAQ,GAAGX,EAAOI,IAAI,SAAkB,KAAcpB,EAAI4B,gBAAgBV,YAAYlB,EAAImB,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,WAAW,MAAO,CAACjB,EAAG,SAAS,CAACE,YAAY,iBAAiBuB,MAAM,CAAEC,QAAiC,KAAvB9B,EAAI+B,eAAwB,UAAY,OAASrB,MAAM,CAAC,KAAO,SAASK,GAAG,CAAC,MAAQ,SAASC,GAAQhB,EAAI+B,eAAiB,SAAST,OAAM,GAAM,CAACF,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACjB,EAAG,QAAQ,CAAC4B,WAAW,CAAC,CAACC,KAAK,SAASC,QAAQ,aAAaxB,MAAM,CAAC,MAAQ,GAAG,MAAQ,GAAG,KAAO,GAAG,KAAO,QAAQK,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOhB,EAAI4B,oBAAoBN,OAAM,KAAQa,MAAM,CAACC,MAAOpC,EAAkB,eAAEqC,SAAS,SAAUC,GAAMtC,EAAI+B,eAAeO,GAAKC,WAAW,qBAAqB,IAAI,KACxhD,IGUpB,EACA,KACA,KACA,MAIa,UAAAxC,EAAiB,QAOhC,IAASA,EAAW,aAAc,CAACyC,QAAA,EAAMC,OAAA,EAAKC,gBAAA,EAAcC,QAAA,EAAMC,SAAA,IAAS,IAAS7C,EAAW,aAAc,CAAC8C,SAAA","file":"js/10.5e6332e5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-page',{staticClass:\"fit column no-wrap justify-center items-center content-center\"},[_c('section',{staticClass:\"q-ma-md q-pa-sm\"},[_c('h1',[_vm._v(_vm._s(_vm.current_weight))])]),_c('q-btn',{attrs:{\"rounded\":\"\",\"icon\":_vm.ws.readyState === _vm.ws.CONNECTED ? 'phonelink_off' : 'phonelink',\"label\":\"reconnect\",\"disable\":_vm.ws.readyState !== _vm.ws.CLOSED},on:{\"click\":function($event){return _vm.reconnect()}},scopedSlots:_vm._u([{key:\"loading\",fn:function(){return [_c('q-spinner-gears')]},proxy:true},{key:\"after\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"close\"}})]},proxy:true}])}),_c('section',{staticClass:\"q-mt-md\",staticStyle:{\"min-width\":\"50vw\"}},[_c('q-input',{attrs:{\"filled\":\"\",\"label\":\"Send Message\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.messageSend()}},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('q-icon',{staticClass:\"cursor-pointer\",style:({opacity: (_vm.messagaeToSend !== '' ? 'inherit' : '0.1')}),attrs:{\"name\":\"close\"},on:{\"click\":function($event){_vm.messagaeToSend = ''}}})]},proxy:true},{key:\"after\",fn:function(){return [_c('q-btn',{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],attrs:{\"round\":\"\",\"dense\":\"\",\"flat\":\"\",\"icon\":\"send\"},on:{\"click\":function($event){return _vm.messageSend()}}})]},proxy:true}]),model:{value:(_vm.messagaeToSend),callback:function ($$v) {_vm.messagaeToSend=$$v},expression:\"messagaeToSend\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveHarvest.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveHarvest.vue?vue&type=script&lang=js&\"","<template>\n    <q-page class=\"fit column no-wrap justify-center items-center content-center\">\n        <section\n            class=\"q-ma-md q-pa-sm\"\n        >\n            <h1>{{ current_weight }}</h1>\n        </section>\n\n        <q-btn\n            rounded\n            :icon=\"ws.readyState === ws.CONNECTED ? 'phonelink_off' : 'phonelink'\"\n            @click=\"reconnect()\"\n            label=\"reconnect\"\n            :disable=\"ws.readyState !== ws.CLOSED\"\n        >\n            <template #loading>\n                <q-spinner-gears />\n            </template>\n            <template #after>\n                <q-icon\n                    name=\"close\"\n                />\n            </template>\n        </q-btn>\n\n        <section\n            class=\"q-mt-md\"\n            style=\"min-width: 50vw\"\n        >\n            <q-input\n                filled\n                label=\"Send Message\"\n                v-model=\"messagaeToSend\"\n                @keyup.enter=\"messageSend()\"\n            >\n                <template #append>\n                    <q-icon\n                        :style=\"{opacity: (messagaeToSend !== '' ? 'inherit' : '0.1')}\"\n                        name=\"close\"\n                        @click=\"messagaeToSend = ''\"\n                        class=\"cursor-pointer\"\n                    />\n                </template>\n                <template #after>\n                    <q-btn\n                        round\n                        v-ripple\n                        dense\n                        flat\n                        icon=\"send\"\n                        @click=\"messageSend()\"\n                    />\n                </template>\n            </q-input>\n        </section>\n    </q-page>\n</template>\n\n<script>\n// import { extend } from 'quasar'\n\nexport default {\n    name: 'PageSaveHarvest',\n    data () {\n        return {\n            ws: new WebSocket('ws://127.0.0.1:9090/'),\n            current_weight: '- - - -',\n            messagaeToSend: 'Hello World :-)',\n            log: undefined\n        }\n    },\n    methods: {\n        reconnect () {\n            console.group('reconnect()')\n            // https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/readyState\n            console.log('ws.readyState:', this.ws.readyState)\n            if (this.ws.readyState === WebSocket.CLOSED) {\n                this.setup_ws_connection()\n            }\n            console.groupEnd()\n        },\n        messageSend () {\n            console.group('messageSend')\n            console.log('messagaeToSend:', this.messagaeToSend)\n            this.ws.send(this.messagaeToSend)\n            console.groupEnd()\n        },\n        messageReceive (event) {\n            // const date = new Date().toISOString()\n            // const value = date + ' ' + event.data\n            const value = event.data\n            this.current_weight = value\n            // console.log(contentText)\n            // this.$refs.mylog.addEntryIn(value)\n        },\n        onopen (event) {\n            console.log('WebSocket is open now.', event)\n            // this.$refs.mylog.addEntryIn(event.type)\n        },\n        onclose (event) {\n            console.log('WebSocket is closed now.', event)\n            // this.$refs.mylog.addEntryIn(event.type)\n            this.current_weight = '- - - -'\n        },\n        onerror (event) {\n            console.log('WebSocket error:', event)\n            // this.$refs.mylog.addEntryIn(event.type)\n            this.current_weight = '- - - -'\n        },\n        setup_ws_connection () {\n            this.ws = null\n            this.ws = new WebSocket('ws://127.0.0.1:9090/')\n            console.log('created websocket server')\n            this.ws.onmessage = this.messageReceive\n            this.ws.onopen = this.onopen\n            this.ws.onclose = this.onclose\n            this.ws.onerror = this.onerror\n        }\n    },\n    mounted: function () {\n        console.group('mounted..')\n        this.setup_ws_connection()\n        console.groupEnd()\n    },\n    beforeDestroy: function () {\n        console.group('beforeDestroy..')\n        // this.deviceClose()\n        console.groupEnd()\n    },\n    filters: {\n    },\n    components: {\n    }\n}\n</script>\n","import { render, staticRenderFns } from \"./SaveHarvest.vue?vue&type=template&id=333ec2dc&\"\nimport script from \"./SaveHarvest.vue?vue&type=script&lang=js&\"\nexport * from \"./SaveHarvest.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QPage from 'quasar/src/components/page/QPage.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QSpinnerGears from 'quasar/src/components/spinner/QSpinnerGears.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QInput from 'quasar/src/components/input/QInput.js';import Ripple from 'quasar/src/directives/Ripple.js';\nimport qInstall from \"../../node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\";\nqInstall(component, 'components', {QPage,QBtn,QSpinnerGears,QIcon,QInput});qInstall(component, 'directives', {Ripple});\n"],"sourceRoot":""}